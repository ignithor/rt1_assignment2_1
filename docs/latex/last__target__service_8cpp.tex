\hypertarget{last__target__service_8cpp}{}\doxysection{src/last\+\_\+target\+\_\+service.cpp File Reference}
\label{last__target__service_8cpp}\index{src/last\_target\_service.cpp@{src/last\_target\_service.cpp}}


Provides a service to retrieve the last target pose received by the robot.  


{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}geometry\+\_\+msgs/\+Pose\+Stamped.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}assignment\+\_\+2\+\_\+2024/\+Planning\+Action\+Goal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt1\+\_\+assignment2\+\_\+1/\+Target.\+h\char`\"{}}\newline
Include dependency graph for last\+\_\+target\+\_\+service.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{last__target__service_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{last__target__service_8cpp_afb3c19da564a434913537db8aabb337e}{goal\+Callback}} (const assignment\+\_\+2\+\_\+2024\+::\+Planning\+Action\+Goal\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em Callback function to update the last goal received. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{last__target__service_8cpp_a4497a5fc9ddade4d03b53fbab1e7ffe0}{get\+Last\+Target}} (rt1\+\_\+assignment2\+\_\+1\+::\+Target\+::\+Request \&req, rt1\+\_\+assignment2\+\_\+1\+::\+Target\+::\+Response \&res)
\begin{DoxyCompactList}\small\item\em Service callback to provide the last goal. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{last__target__service_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main function for the last\+\_\+target\+\_\+service node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{last__target__service_8cpp_a4cfb9c28ab965431b4d55a195d9a2385}\label{last__target__service_8cpp_a4cfb9c28ab965431b4d55a195d9a2385}} 
geometry\+\_\+msgs\+::\+Pose\+Stamped \mbox{\hyperlink{last__target__service_8cpp_a4cfb9c28ab965431b4d55a195d9a2385}{last\+\_\+target}}
\begin{DoxyCompactList}\small\item\em Global variable to store the last goal. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Provides a service to retrieve the last target pose received by the robot. 

\begin{DoxyAuthor}{Author}
Paul Pham Dang 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
11/03/2025
\end{DoxyDate}
Subscribes to \+: ~\newline
 °/reaching\+\_\+goal/goal

Services \+: ~\newline
 °/get\+\_\+last\+\_\+target

Description \+:

This node provides a service to retrieve the last target pose received by the robot. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{last__target__service_8cpp_a4497a5fc9ddade4d03b53fbab1e7ffe0}\label{last__target__service_8cpp_a4497a5fc9ddade4d03b53fbab1e7ffe0}} 
\index{last\_target\_service.cpp@{last\_target\_service.cpp}!getLastTarget@{getLastTarget}}
\index{getLastTarget@{getLastTarget}!last\_target\_service.cpp@{last\_target\_service.cpp}}
\doxysubsubsection{\texorpdfstring{getLastTarget()}{getLastTarget()}}
{\footnotesize\ttfamily bool get\+Last\+Target (\begin{DoxyParamCaption}\item[{rt1\+\_\+assignment2\+\_\+1\+::\+Target\+::\+Request \&}]{req,  }\item[{rt1\+\_\+assignment2\+\_\+1\+::\+Target\+::\+Response \&}]{res }\end{DoxyParamCaption})}



Service callback to provide the last goal. 


\begin{DoxyParams}{Parameters}
{\em req} & The service request (unused in this case). \\
\hline
{\em res} & The service response containing the last target pose.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns true, indicating a successful service call.
\end{DoxyReturn}
This function is called when the {\ttfamily /get\+\_\+last\+\_\+target} service is requested. It fills the response with the last target pose stored in the global variable {\ttfamily last\+\_\+target}. \mbox{\Hypertarget{last__target__service_8cpp_afb3c19da564a434913537db8aabb337e}\label{last__target__service_8cpp_afb3c19da564a434913537db8aabb337e}} 
\index{last\_target\_service.cpp@{last\_target\_service.cpp}!goalCallback@{goalCallback}}
\index{goalCallback@{goalCallback}!last\_target\_service.cpp@{last\_target\_service.cpp}}
\doxysubsubsection{\texorpdfstring{goalCallback()}{goalCallback()}}
{\footnotesize\ttfamily void goal\+Callback (\begin{DoxyParamCaption}\item[{const assignment\+\_\+2\+\_\+2024\+::\+Planning\+Action\+Goal\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



Callback function to update the last goal received. 


\begin{DoxyParams}{Parameters}
{\em msg} & A pointer to the received Planning\+Action\+Goal message.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
This function is called whenever a new goal is published on the {\ttfamily /reaching\+\_\+goal/goal} topic. It updates the global variable {\ttfamily last\+\_\+target} with the received goal. \mbox{\Hypertarget{last__target__service_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{last__target__service_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{last\_target\_service.cpp@{last\_target\_service.cpp}!main@{main}}
\index{main@{main}!last\_target\_service.cpp@{last\_target\_service.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main function for the last\+\_\+target\+\_\+service node. 


\begin{DoxyParams}{Parameters}
{\em argc} & Number of command-\/line arguments. \\
\hline
{\em argv} & Array of command-\/line arguments.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on successful completion.
\end{DoxyReturn}
Initializes the R\+OS node, subscribes to the {\ttfamily /reaching\+\_\+goal/goal} topic, and advertises the {\ttfamily /get\+\_\+last\+\_\+target} service. Initialize the R\+OS node

Subscribe to the action goal topic

Advertise the service